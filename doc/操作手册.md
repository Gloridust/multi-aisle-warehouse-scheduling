## 系统启动

1. 后端启动
   - 进入项目根目录，运行 Maven 启动 Spring Boot
   - 默认后端地址：http://localhost:8081
2. 前端启动
   - 进入 frontend 目录，安装依赖后运行开发服务器
   - 默认前端地址：http://localhost:5173

## 登录

- 账号：admin
- 密码：admin123

## 一、初始化仓库

用户操作：
- 进入「基础管理-仓库管理」
- 创建仓库，填写层数、列数、托盘容积、水平/垂直速度、入库口坐标

后端处理：
- 保存 warehouse 记录
- 自动批量生成 totalRows × totalCols 条 storage_location 记录
- 初始状态：status=0，current_sku_id=null，current_qty=null，used_volume=null

## 二、录入商品

用户操作：
- 进入「基础管理-货物信息」
- 新增 SKU，填写名称、分类、体积、重量

后端处理：
- 纯 CRUD 写入 sku 表

## 三、创建入库订单

用户操作：
- 进入「作业任务-入库订单」
- 新建订单，添加多个 SKU 与数量
- 订单号可编辑，默认自动生成（北京时间）

后端处理：
- inbound_order 写入一条记录，status=0，strategy_type 为空
- inbound_order_item 写入多条记录，关联 sku_id 与数量

## 四、执行入库（真实分配）

用户操作：
- 在订单列表进入详情页
- 选择策略（分类存储/就近原则/遗传算法）
- 点击「执行入库」

后端处理：
1. 准备数据
   - 查询订单项、空闲货位、仓库参数
2. 计算每个 SKU 的货位容量与拆分
   - capacity = floor(托盘容积 / 单件体积)，最小为 1
3. 策略分配
   - 分类存储：按分类分组、按顺序占用货位
   - 就近原则：按入库口距离排序后依次分配
   - 遗传算法：选择最优货位组合使总距离最小
4. 写入分配结果
   - allocation_result 写入每个货位的 SKU、数量、体积、距离
5. 更新货位状态
   - storage_location 状态置为占用，填入 current_sku_id、current_qty、used_volume
6. 更新订单状态
   - inbound_order status=2，strategy_type 记录策略

前端响应：
- 订单详情页展示分配结果
- 「可视化监控-二维看板」可看到货位变色

## 五、策略仿真对比

用户操作：
- 进入「算法策略-仿真对比」
- 输入入库订单 ID，点击「运行仿真」

后端处理：
1. 准备数据
   - 查询订单项、空闲货位、仓库参数
2. 依次运行三种策略
   - 计算耗时、总存取距离、平均距离、空间利用率、使用货位数
3. 结果持久化
   - simulation_result 保存指标
   - 仿真分配明细不落库，仅随接口返回

前端渲染：
- 三种策略的网格图使用返回的 allocations 进行着色
- 鼠标悬停显示坐标、SKU、数量、体积、距离
- 指标表与柱状图用于对比

## 六、出库流程

用户操作：
- 进入「作业任务-出库订单」
- 新建订单，选择 SKU 与数量
- 在订单详情页点击「执行出库」

后端处理：
1. 查询仓库与订单项
2. 按 SKU 找到所有占用货位并按距离排序
3. 从近到远进行拣选，生成出库分配结果
4. 写入 outbound_result，更新 outbound_order 状态为完成
5. 对货位更新：
   - 数量为 0：释放为 status=0
   - 数量仍有：更新 current_qty 与 used_volume

前端响应：
- 订单详情页展示出库分配结果
- 看板页面可看到释放后的货位

## 七、仓库看板与货位管理

用户操作：
- 进入「可视化监控-二维看板」
- 选择仓库 ID，按层筛选查看
- 进入「基础管理-货位管理」可加载货位并手动锁定/解锁

后端处理：
- visualization 接口返回货位状态与 SKU 信息
- 货位管理支持按层筛选与状态更新

## 工作台

- 展示 SKU 数量、入库/出库订单数、当前仓库与货位统计
